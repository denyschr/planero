<div class="rounded-md bg-surface-50 shadow-md">
  <div class="flex items-start justify-between gap-x-2 p-2 text-sm">
    <pln-inplace-textarea
      class="column-title-editable"
      [value]="column().title"
      (valueChanged)="titleChanged.emit($event)"
    />
    <pln-column-options (deleted)="columnDeleted.emit()" />
  </div>
  <ol
    class="mx-1 px-1 py-0.5 flex flex-col gap-y-2"
    cdkDropList
    [cdkDropListData]="filteredTasks()"
    (cdkDropListDropped)="dropTask($event)"
  >
    @for (task of filteredTasks(); track task.id) {
      <li cdkDrag>
        <pln-task-card [task]="task" />
      </li>
    }
  </ol>
  <div class="p-2 text-sm">
    <pln-inplace-form
      class="button-add-task"
      displayText="Add a task"
      displayIcon="pi pi-plus text-sm!"
      placeholder="Enter a title"
      (created)="taskCreated.emit($event)"
    />
  </div>
</div>
